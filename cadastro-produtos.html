<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro de Produtos</title>
  <link rel="stylesheet" href="estilo_login.css" />
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <div class="container">
    <h2>Cadastro de Produto</h2>
    
    <form id="formProduto">
      <label>Descrição:</label>
      <input type="text" id="descricao" required><br>

      <label>Tipo:</label>
      <select id="tipo" required>
        <option value="Seco">Seco</option>
        <option value="Perecível">Perecível</option>
      </select><br>

      <label>EAN (opcional):</label>
      <input type="text" id="ean"><br>

      <label>DUN (opcional):</label>
      <input type="text" id="dun"><br>

      <label>Unidade de Compra:</label>
      <select id="unidade" required>
        <option value="Cx">Cx</option>
        <option value="Kg">Kg</option>
        <option value="Unidade">Unidade</option>
      </select><br>

      <label>Preço do Produto:</label>
      <input type="text" id="preco" required><br>

      <label>Último Preço / Fornecedor:</label>
      <input type="text" id="precoFornecedor"><br>

      <button type="submit">Salvar Produto</button>
    </form>

    <br>
    <a href="formulario_varejista.html">
      <button>Voltar ao Menu</button>
    </a>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCjse7Bzw-vantrt1s7UXr_ev6QCMlwxC8",
      authDomain: "cotacoes---konect.firebaseapp.com",
      databaseURL: "https://cotacoes---konect-default-rtdb.firebaseio.com",
      projectId: "cotacoes---konect",
      storageBucket: "cotacoes---konect.appspot.com",
      messagingSenderId: "1037489090128",
      appId: "1:1037489090128:web:09998d990338d15e276b55"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    document.getElementById('formProduto').addEventListener('submit', function(e) {
      e.preventDefault();

      const produto = {
        descricao: document.getElementById('descricao').value,
        tipo: document.getElementById('tipo').value,
        ean: document.getElementById('ean').value,
        dun: document.getElementById('dun').value,
        unidade: document.getElementById('unidade').value,
        preco: document.getElementById('preco').value,
        precoFornecedor: document.getElementById('precoFornecedor').value
      };

      const novoId = Date.now();
      db.ref('produtos/' + novoId).set(produto)
        .then(() => {
          alert('Produto salvo com sucesso!');
          document.getElementById('formProduto').reset();
        })
        .catch(error => {
          alert('Erro ao salvar produto.');
          console.error(error);
        });
    });
  </script>
</body>
</html>
          alert("Erro ao salvar produto.");
        });
    });
  </script>
</body>
</html>
